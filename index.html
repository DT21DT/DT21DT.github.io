<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posizionamento degli Item</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


</head>
<body>
    <div class="container-bins">
        <h3>Contenitore 1<br>Capacità: 10<br>Costo: $5</h3>
        <div id="bin1" class="bin" style="--capacity: 10;" data-cost="5"></div>

        <h3>Contenitore 2<br>Capacità: 15<br>Costo: $8</h3>
        <div id="bin2" class="bin" style="--capacity: 15;" data-cost="8"></div>

        <h3>Contenitore 3<br>Capacità: 20<br>Costo: $10</h3>
        <div id="bin3" class="bin" style="--capacity: 20;" data-cost="10"></div>
    </div>

    <div class="container-items">
        <div id="item1" class="item" style="--height: 5;" >Item 1 - 5</div>
        <div id="item2" class="item" style="--height: 7;" >Item 2 - 7</div>
        <div id="item3" class="item" style="--height: 8;" >Item 3 - 8</div>
        <div id="item4" class="item" style="--height: 3;" >Item 4 - 3</div>
    </div>

    <div id="totalCost">Costo totale: $0.00</div> <!-- Elemento per visualizzare il costo totale -->

    <!-- Aggiunta di un pulsante per chiamare la funzione Cloud -->
    <button id="call-cloud-function">Chiamare la funzione 2 Cloud</button>

    <div id="result"></div>


    <script src="https://cdn.jsdelivr.net/npm/@interactjs/interactjs@1.10.11/dist/interact.min.js"></script>
    <script src="script.js"></script>


    <script>
        $(document).ready(function(){
            $("#call-cloud-function").click(function(){
                // Dati da inviare alla funzione Cloud
                var dataToSend = {
                    "items": [48, 30, 19, 36, 36, 27, 42, 42, 36, 24, 30],
                    "bins": [1, 2, 3],
                    "bin_capacity": 100
                };
    
                $.ajax({
                    url: 'https://europe-west2-binpacking-414323.cloudfunctions.net/function-1-bpp', // Cambia l'URL con quello della tua funzione Cloud
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(dataToSend),
                    success: function(response) {
                        console.log('Risposta dalla funzione Cloud:', response);
                        // Gestisci la risposta qui, ad esempio mostrando il risultato sulla pagina
                        $("#result").text("Il risultato è: " + response.result);
                    },
                    error: function(xhr, status, error) {
                        console.error('Errore durante la chiamata alla funzione Cloud:', error);
                        // Gestisci l'errore qui
                    }
                });
            });
        });
    </script>
    
</body>
</html>
